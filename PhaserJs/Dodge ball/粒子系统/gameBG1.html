<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>看谁能坚持五十秒</title>
	<style>
	*{margin: 0px;padding: 0px;}
		html,body{
			height: 100%;
			margin: 0;
			padding: 0;
			background-color: black;
		}
		#container{
			overflow: hidden;
		}
		#container canvas{
			margin: 4% auto;
		}
		/*canvas {margin: 0px;}*/
	</style>
	<script src="js/phaser.min.js"></script>
</head>
<body>
	<!--<div id="container"></div>-->
	<script>
var game = new Phaser.Game(800, 600, Phaser.AUTO, 'phaser-example', { preload: preload, create: create, update: update });

function preload() {
    game.load.image('space', 'assets/thalion-rain.png');
    game.load.image('ball', 'assets/bubble256.png');
}
var _width = window.screen.availWidth;
var bg;
var unit = 800 / _width;

function create() {
	// 背景用tileSprite
    bg = game.add.tileSprite(0, 0, 800, 600, 'space');
    var delay = 0;
    for (var i = 0; i < 40; i++) {
        var sprite = game.add.sprite(30 + (game.world.randomX), 600, 'ball');
        // var sprite = game.add.sprite(138 / unit, 1000, 'ball');
        // 0.1~0.6随机数
        sprite.scale.set(game.rnd.realInRange(0.1, 0.2));
        // 4000到6000随机数
        var speed = game.rnd.between(4000,6000);
        // tween
        game.add.tween(sprite).to({ y:  -256 }, speed, Phaser.Easing.Sinusoidal.InOut, true, delay, 2000, false);
        delay += 200;
    }
}

function update() {
	// 让背景移动
    bg.tilePosition.y += 0.4;
}
    </script>
</body>
</html>