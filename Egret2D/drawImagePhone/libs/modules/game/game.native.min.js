var egret;!function(e){var t;!function(t){var n=function(t){function n(){t.call(this),this.urlData={}}__extends(n,t);var r=(__define,n),a=r.prototype;return a.proceed=function(t){var n=this;if(t.dataFormat==e.URLLoaderDataFormat.TEXTURE)return void n.loadTexture(t);if(t.dataFormat==e.URLLoaderDataFormat.SOUND)return void n.loadSound(t);var r=t._request,a=n.getVirtualUrl(e.$getUrl(r)),o=new e.HttpRequest;o.open(a,r.method==e.URLRequestMethod.POST?e.HttpMethod.POST:e.HttpMethod.GET);for(var i=r.requestHeaders.length,E=0;i>E;E++){var s=r.requestHeaders[E];o.setRequestHeader(s.name,s.value)}o.addEventListener(e.Event.COMPLETE,function(){t.data=o.response,e.Event.dispatchEvent(t,e.Event.COMPLETE)},this),o.addEventListener(e.IOErrorEvent.IO_ERROR,function(){e.IOErrorEvent.dispatchIOErrorEvent(t)},this),o.responseType=t.dataFormat==e.URLLoaderDataFormat.BINARY?e.HttpResponseType.ARRAY_BUFFER:e.HttpResponseType.TEXT,o.send(r.data)},a.loadSound=function(t){function n(e){t.dispatchEvent(e)}function r(e){o(),t.dispatchEvent(e)}function a(n){o(),t.data=s;var r=function(){t.dispatchEventWith(e.Event.COMPLETE)};__global.setTimeout?__global.setTimeout(r,0):e.$callAsync(r,i)}function o(){s.removeEventListener(e.Event.COMPLETE,a,i),s.removeEventListener(e.IOErrorEvent.IO_ERROR,r,i),s.removeEventListener(e.ProgressEvent.PROGRESS,n,i)}var i=this,E=this.getVirtualUrl(t._request.url),s=new e.Sound;s.addEventListener(e.Event.COMPLETE,a,i),s.addEventListener(e.IOErrorEvent.IO_ERROR,r,i),s.addEventListener(e.ProgressEvent.PROGRESS,n,i),s.load(E)},a.loadTexture=function(t){function n(e){t.dispatchEvent(e)}function r(e){o(),t.dispatchEvent(e)}function a(n){o();var r=v.data,a=new e.Texture;a._setBitmapData(r),t.data=a;var E=function(){t.dispatchEventWith(e.Event.COMPLETE)};__global.setTimeout?__global.setTimeout(E,0):e.$callAsync(E,i)}function o(){v.removeEventListener(e.Event.COMPLETE,a,i),v.removeEventListener(e.IOErrorEvent.IO_ERROR,r,i),v.removeEventListener(e.ProgressEvent.PROGRESS,n,i)}var i=this,E=t._request,s=i.getVirtualUrl(E.url),v=new e.ImageLoader;v.addEventListener(e.Event.COMPLETE,a,i),v.addEventListener(e.IOErrorEvent.IO_ERROR,r,i),v.addEventListener(e.ProgressEvent.PROGRESS,n,i),v.load(s)},a.isNetUrl=function(e){return-1!=e.indexOf("http://")||-1!=e.indexOf("HTTP://")},a.getVirtualUrl=function(e){return e},n.getNetContext=function(){return null==n._instance&&(n._instance=new n),n._instance},n.__use_asyn=null==egret_native.readFileAsync?!1:!0,n}(e.HashObject);t.NativeNetContext=n,e.registerClass(n,"egret.native.NativeNetContext",["egret.NetContext"]),e.NetContext=n}(t=e["native"]||(e["native"]={}))}(egret||(egret={}));